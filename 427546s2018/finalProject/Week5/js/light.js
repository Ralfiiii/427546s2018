$(function(){if(!Detector.webgl){Detector.addGetWebGLMessage()}var i,d,g;var f,m,h;var c;function l(){i=new THREE.WebGLRenderer();i.setPixelRatio(window.devicePixelRatio);i.setSize(400,400);output=$(".inner");output.append(i.domElement);i.shadowMap.enabled=true;i.shadowMap.type=THREE.PCFSoftShadowMap;i.gammaInput=true;i.gammaOutput=true;d=new THREE.Scene();g=new THREE.PerspectiveCamera(35,400/400,1,1000);g.position.set(65,8,-10);var n=new THREE.OrbitControls(g,i.domElement);n.addEventListener("change",b);n.minDistance=20;n.maxDistance=500;n.enablePan=false;var p=new THREE.AmbientLight(16777215,0.1);d.add(p);f=new THREE.SpotLight(16777215,1);f.position.set(15,40,35);f.angle=Math.PI/4;f.penumbra=0.05;f.decay=2;f.distance=200;f.castShadow=true;f.shadow.mapSize.width=1024;f.shadow.mapSize.height=1024;f.shadow.camera.near=10;f.shadow.camera.far=200;d.add(f);d.add(new THREE.AxesHelper(10));var o=new THREE.MeshPhongMaterial({color:8421504,dithering:true});var q=new THREE.BoxGeometry(2000,1,2000);var r=new THREE.Mesh(q,o);r.position.set(0,-10,0);r.receiveShadow=true;d.add(r);var q=new THREE.BoxGeometry(4,4,3);var r=new THREE.Mesh(q,e());r.position.set(0,0,0);r.castShadow=true;d.add(r);n.target.copy(r.position);n.update();window.addEventListener("resize",a,false)}function a(){g.aspect=1;g.updateProjectionMatrix();i.setSize(400,400)}function b(){m.update();h.update();i.render(d,g)}function k(){c=new dat.GUI();var n={color:f.color.getHex(),intensity:f.intensity,distance:f.distance,angle:f.angle,penumbra:f.penumbra,decay:f.decay};c.addColor(n,"color").onChange(function(o){f.color.setHex(o);b()});c.add(n,"angle",0,Math.PI/3).onChange(function(o){f.angle=o;b()});c.add(n,"distance",50,200).onChange(function(o){f.distance=o;b()});c.add(n,"intensity",0,2).onChange(function(o){f.intensity=o;b()});c.add(n,"decay",1,2).onChange(function(o){f.decay=o;b()});c.add(n,"penumbra",0,1).onChange(function(o){f.penumbra=o;b()});c.open()}l();k();b();j();function j(){requestAnimationFrame(j);b()}function e(){var n=new THREE.TextureLoader();var q=n.load("../img/front.svg");var o=n.load("../img/side.svg");var r=n.load("../img/top.svg");materials=[new THREE.MeshStandardMaterial({color:16777215,map:o,depthWrite:true,depthTest:true,shading:THREE.SmoothShading,metalness:0.2}),new THREE.MeshStandardMaterial({color:16777215,map:o,depthWrite:true,depthTest:true,shading:THREE.SmoothShading,metalness:0.2}),new THREE.MeshStandardMaterial({color:16777215,map:r,depthWrite:true,depthTest:true,shading:THREE.SmoothShading,metalness:0.2}),new THREE.MeshBasicMaterial({color:0}),new THREE.MeshStandardMaterial({color:16777215,map:q,depthWrite:true,depthTest:true,shading:THREE.SmoothShading,metalness:0.2}),new THREE.MeshStandardMaterial({color:16777215,map:q,depthWrite:true,depthTest:true,shading:THREE.SmoothShading,metalness:0.2})];var p=new THREE.MultiMaterial(materials);return p}function b(){i.render(d,g)}});