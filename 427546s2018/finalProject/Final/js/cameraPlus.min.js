$(function(){var b,g;var j,f,m,l;var k=new THREE.Vector2(),n;var i=100,e=0;p();d();function p(){b=document.createElement("div");document.body.appendChild(b);j=new THREE.CinematicCamera(60,400/400,1,1000);j.setLens(5);j.position.set(0,0,10);f=new THREE.Scene();f.background=new THREE.Color(15790320);f.add(new THREE.AmbientLight(16777215,0.3));var q=new THREE.DirectionalLight(16777215,0.35);q.position.set(1,1,1).normalize();f.add(q);var v=new THREE.BoxGeometry(4,4,3);var w=new THREE.Mesh(v,h());w.position.set(0,0,0);w.castShadow=true;f.add(w);m=new THREE.Raycaster();l=new THREE.WebGLRenderer({antialias:true});l.setPixelRatio(window.devicePixelRatio);l.setSize(400,400);var s=$(".inner");s.append(l.domElement);g=new Stats();b.appendChild(g.dom);document.addEventListener("mousemove",o,false);window.addEventListener("resize",a,false);var t={focalLength:15,};var u=function(){for(var x in t){if(x in j.postprocessing.bokeh_uniforms){j.postprocessing.bokeh_uniforms[x].value=t[x]}}j.postprocessing.bokeh_uniforms.znear.value=j.near;j.postprocessing.bokeh_uniforms.zfar.value=j.far;j.setLens(t.focalLength,j.frameHeight,t.fstop,j.coc);t.focalDepth=j.postprocessing.bokeh_uniforms.focalDepth.value};var r=new dat.GUI();r.add(t,"focalLength",1,135,0.01).onChange(u);u();window.addEventListener("resize",a,false)}function a(){j.aspect=1;j.updateProjectionMatrix();l.setSize(400,400)}function o(q){q.preventDefault();k.x=(q.clientX/window.innerWidth)*2-1;k.y=-(q.clientY/window.innerHeight)*2+1}function d(){requestAnimationFrame(d,l.domElement);c();g.update()}function c(){m.setFromCamera(k,j);var r=m.intersectObjects(f.children);if(r.length>0){var q=r[0].distance;j.focusAt(q);if(n!=r[0].object){if(n){n.material.emissive.setHex(n.currentHex)}n=r[0].object;n.currentHex=n.material.emissive.getHex();n.material.emissive.setHex(16711680)}}else{if(n){n.material.emissive.setHex(n.currentHex)}n=null}if(j.postprocessing.enabled){j.renderCinematic(f,l)}else{f.overrideMaterial=null;l.clear();l.render(f,j)}}function h(){var q=new THREE.TextureLoader();var t=q.load("../img/front.svg");var r=q.load("../img/side.svg");var u=q.load("../img/top.svg");materials=[new THREE.MeshStandardMaterial({color:16777215,map:r,depthWrite:true,depthTest:true,shading:THREE.SmoothShading,metalness:0.2}),new THREE.MeshStandardMaterial({color:16777215,map:r,depthWrite:true,depthTest:true,shading:THREE.SmoothShading,metalness:0.2}),new THREE.MeshStandardMaterial({color:16777215,map:u,depthWrite:true,depthTest:true,shading:THREE.SmoothShading,metalness:0.2}),new THREE.MeshBasicMaterial({color:0}),new THREE.MeshStandardMaterial({color:16777215,map:t,depthWrite:true,depthTest:true,shading:THREE.SmoothShading,metalness:0.2}),new THREE.MeshStandardMaterial({color:16777215,map:t,depthWrite:true,depthTest:true,shading:THREE.SmoothShading,metalness:0.2})];var s=new THREE.MultiMaterial(materials);return s}function c(){l.render(f,j)}});