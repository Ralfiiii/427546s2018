$(function(){function e(){d=new THREE.WebGLRenderer,d.setPixelRatio(window.devicePixelRatio),d.setSize(400,400),output=$(".inner"),output.append(d.domElement),d.shadowMap.enabled=!0,d.shadowMap.type=THREE.PCFSoftShadowMap,d.gammaInput=!0,d.gammaOutput=!0,r=new THREE.Scene,s=new THREE.PerspectiveCamera(35,1,1,1e3),s.position.set(65,8,-10);var e=new THREE.OrbitControls(s,d.domElement);e.addEventListener("change",t),e.minDistance=20,e.maxDistance=500,e.enablePan=!1;var n=new THREE.AmbientLight(16777215,.1);r.add(n),h=new THREE.SpotLight(16777215,1),h.position.set(15,40,35),h.angle=Math.PI/4,h.penumbra=.05,h.decay=2,h.distance=200,h.castShadow=!0,h.shadow.mapSize.width=1024,h.shadow.mapSize.height=1024,h.shadow.camera.near=10,h.shadow.camera.far=200,r.add(h),r.add(new THREE.AxesHelper(10));var o=new THREE.MeshPhongMaterial({color:8421504,dithering:!0}),E=new THREE.BoxGeometry(2e3,1,2e3),c=new THREE.Mesh(E,o);c.position.set(0,-10,0),c.receiveShadow=!0,r.add(c);var E=new THREE.BoxGeometry(4,4,3),c=new THREE.Mesh(E,i());c.position.set(0,0,0),c.castShadow=!0,r.add(c),e.target.copy(c.position),e.update(),window.addEventListener("resize",a,!1)}function a(){s.aspect=1,s.updateProjectionMatrix(),d.setSize(400,400)}function t(){E.update(),c.update(),d.render(r,s)}function n(){p=new dat.GUI;var e={"light color":h.color.getHex(),intensity:h.intensity,distance:h.distance,angle:h.angle,penumbra:h.penumbra,decay:h.decay};p.addColor(e,"light color").onChange(function(e){h.color.setHex(e),t()}),p.add(e,"intensity",0,2).onChange(function(e){h.intensity=e,t()}),p.add(e,"distance",50,200).onChange(function(e){h.distance=e,t()}),p.add(e,"angle",0,Math.PI/3).onChange(function(e){h.angle=e,t()}),p.add(e,"penumbra",0,1).onChange(function(e){h.penumbra=e,t()}),p.add(e,"decay",1,2).onChange(function(e){h.decay=e,t()}),p.open()}function o(){requestAnimationFrame(o),t()}function i(){var e=new THREE.TextureLoader,a=e.load("../img/front.svg"),t=e.load("../img/side.svg"),n=e.load("../img/top.svg");materials=[new THREE.MeshStandardMaterial({color:16777215,map:t,depthWrite:!0,depthTest:!0,shading:THREE.SmoothShading,metalness:.2}),new THREE.MeshStandardMaterial({color:16777215,map:t,depthWrite:!0,depthTest:!0,shading:THREE.SmoothShading,metalness:.2}),new THREE.MeshStandardMaterial({color:16777215,map:n,depthWrite:!0,depthTest:!0,shading:THREE.SmoothShading,metalness:.2}),new THREE.MeshBasicMaterial({color:0}),new THREE.MeshStandardMaterial({color:16777215,map:a,depthWrite:!0,depthTest:!0,shading:THREE.SmoothShading,metalness:.2}),new THREE.MeshStandardMaterial({color:16777215,map:a,depthWrite:!0,depthTest:!0,shading:THREE.SmoothShading,metalness:.2})];var o=new THREE.MultiMaterial(materials);return o}function t(){d.render(r,s)}Detector.webgl||Detector.addGetWebGLMessage();var d,r,s,h,E,c,p;e(),n(),t(),o()});